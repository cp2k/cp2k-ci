[cp2k-toolchain-mpich]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile

[cp2k-toolchain-openmpi]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile
build_args:   LIBINT_LMAX=4 MPI_MODE=openmpi

[cp2k-toolchain-fedora]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile
build_args:   LIBINT_LMAX=4 BASE_IMAGE=fedora:33

[cp2k-toolchain-gcc10]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=10

[cp2k-toolchain-gcc9]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=9

[cp2k-toolchain-gcc8]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=8

[cp2k-toolchain-gcc7]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=7

[cp2k-toolchain-gcc5]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=5 BASE_IMAGE=ubuntu:18.04

[cp2k-toolchain-i386]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=10 BASE_IMAGE=i386/debian:11

[cp2k-toolchain-cuda-pascal]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.cuda
# Although this will mostly run on P4, we use the extensive parameters from P100.
build_args:   LIBINT_LMAX=4 GPU_VERSION=P100

[cp2k-toolchain-cuda-volta]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.cuda
build_args:   LIBINT_LMAX=4 GPU_VERSION=V100

[cp2k-toolchain-hip-pascal]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.hip_cuda
# Although this will mostly run on P4, we use the extensive parameters from P100.
build_args:   LIBINT_LMAX=4 GPU_VERSION=P100

#-------------------------------------------------------------------------------

[cp2k-precommit]
display_name: Precommit
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-32-skylake
tags:         required_check_run dashboard
dockerfile:   /tools/precommit/Dockerfile

[cp2k-conventions]
display_name: Conventions
repository:   cp2k
cpu:          16
nodepools:    pool-highcpu-16-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_conventions

[cp2k-ase]
display_name: ASE
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-skylake pool-highcpu-16-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ase

[cp2k-i-pi]
display_name: i-Pi
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-skylake pool-highcpu-16-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_i-pi

[cp2k-aiida]
display_name: AiiDA
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-skylake pool-highcpu-16-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_aiida

[cp2k-gromacs]
display_name: Gromacs
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_gromacs

[cp2k-python]
display_name: Python
repository:   cp2k
cpu:          2
nodepools:    pool-highcpu-32-skylake
tags:         required_check_run dashboard
dockerfile:   /tools/docker/Dockerfile.test_python

[cp2k-perf-openmp]
display_name: Performance OpenMP
repository:   cp2k
cpu:          64
tags:         optional_check_run dashboard
nodepools:    pool-highcpu-64-skylake
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_performance

[cp2k-perf-cuda-volta]
display_name: Performance CUDA Volta
repository:   cp2k
cpu:          12
gpu:          1
nodepools:    pool-v100-skylake-12
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-cuda-volta
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_performance_cuda

[cp2k-manual]
display_name: Manual generation
repository:   cp2k
cpu:          16
tags:         optional_check_run dashboard
nodepools:    pool-highcpu-16-skylake pool-highcpu-32-skylake
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_manual

[cp2k-doxygen]
display_name: Doxygen generation
repository:   cp2k
cpu:          16
tags:         optional_check_run dashboard
nodepools:    pool-highcpu-16-skylake pool-highcpu-32-skylake
dockerfile:   /tools/docker/Dockerfile.test_doxygen

[cp2k-sdbg]
display_name: Regtest sdbg
repository:   cp2k
cpu:          28
nodepools:    pool-highcpu-32-skylake
tags:         required_check_run dashboard
related_path: Makefile|src|tests|data|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_sdbg

[cp2k-ssmp]
display_name: Regtest ssmp
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-pdbg]
display_name: Regtest pdbg
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_pdbg

[cp2k-openmpi-psmp]
display_name: Regtest psmp (OpenMPI)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-openmpi
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_psmp

[cp2k-fedora-psmp]
display_name: Regtest psmp (Fedora)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-fedora
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_psmp

[cp2k-psmp]
display_name: Regtest psmp
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_psmp

[cp2k-minimal]
display_name: Minimal arch file
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_minimal

[cp2k-coverage-pdbg]
display_name: Coverage (pdbg)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_coverage-pdbg

[cp2k-cuda-pascal]
display_name: CUDA Pascal Regtest
repository:   cp2k
cpu:          24
gpu:          1
nodepools:    pool-tesla-p4-skylake-24
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-cuda-pascal
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_cuda-psmp

[cp2k-hip-pascal]
display_name: HIP Pascal Regtest
repository:   cp2k
cpu:          24
gpu:          1
nodepools:    pool-tesla-p4-skylake-24
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-hip-pascal
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_hip-psmp

[cp2k-hip-mi100]
display_name: HIP MI100 Regtest
repository:   cp2k
remote_host:  amd-gpu-cloud
remote_cmd:   git/amd_cloud/cp2k_hip_rocm_regtest_launcher.sh
cpu:          0.1
nodepools:    default-pool
tags:         optional_check_run dashboard

[cp2k-i386]
display_name: Debian i386 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-i386
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

#-------------------------------------------------------------------------------
[cp2k-gcc5]
display_name: Ubuntu, GCC 5 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-gcc5
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc7]
display_name: Ubuntu, GCC 7 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-gcc7
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc8]
display_name: Ubuntu, GCC 8 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-gcc8
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc9]
display_name: Ubuntu, GCC 9 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-gcc9
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc10]
display_name: Ubuntu, GCC 10 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-skylake
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-gcc10
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

#EOF
