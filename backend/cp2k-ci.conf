[cp2k-toolchain-mpich]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile

[cp2k-toolchain-openmpi]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile
build_args:   LIBINT_LMAX=4 MPI_MODE=openmpi

[cp2k-toolchain-gcc8]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=8

[cp2k-toolchain-gcc7]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=7

[cp2k-toolchain-gcc6]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=6

[cp2k-toolchain-gcc5]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.ubuntu_nompi
build_args:   LIBINT_LMAX=4 GCC_VERSION=5

[cp2k-toolchain-cuda-kepler]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.cuda_mkl
# Although this will run on K80, we use the extensive parameters from K20X.
build_args:   LIBINT_LMAX=4 GPU_VERSION=K20X

[cp2k-toolchain-cuda-pascal]
repository:   cp2k
dockerfile:   /tools/toolchain/Dockerfile.cuda_mkl
# Although this will run on P4, we use the extensive parameters from P100.
build_args:   LIBINT_LMAX=4 GPU_VERSION=P100

#-------------------------------------------------------------------------------

[cp2k-formatting]
display_name: Formatting
repository:   cp2k
cpu:          4
nodepools:    pool-highcpu-16-haswell
tags:         required_check_run dashboard
dockerfile:   /tools/docker/Dockerfile.test_formatting

[cp2k-conventions]
display_name: Conventions
repository:   cp2k
cpu:          10
nodepools:    pool-highcpu-16-haswell
tags:         required_check_run dashboard
parent:       cp2k-toolchain-openmpi
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_conventions

[cp2k-ase]
display_name: ASE
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-haswell pool-highcpu-16-haswell
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ase

[cp2k-i-pi]
display_name: i-Pi
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-haswell pool-highcpu-16-haswell
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_i-pi

[cp2k-aiida]
display_name: AiiDA
repository:   cp2k
cpu:          8
nodepools:    pool-highcpu-8-haswell pool-highcpu-16-haswell
tags:         optional_check_run dashboard
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_aiida

[cp2k-python]
display_name: Python
repository:   cp2k
cpu:          2
nodepools:    pool-highcpu-16-haswell
tags:         required_check_run dashboard
related_path: \.py$
dockerfile:   /tools/docker/Dockerfile.test_python

[cp2k-scaling]
display_name: Parallel scaling
repository:   cp2k
cpu:          16
tags:         optional_check_run dashboard
# restrict to one node pool for reproducible results
# TODO: run on 32 processors
nodepools:    pool-highcpu-16-haswell
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_scaling

[cp2k-manual]
display_name: Manual generation
repository:   cp2k
cpu:          16
tags:         optional_check_run dashboard
nodepools:    pool-highcpu-16-haswell pool-highcpu-32-haswell
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_manual

[cp2k-farming]
display_name: Farming
repository:   cp2k
cpu:          16
# TODO: somehow farming does not work with 32 processes :-/
nodepools:    pool-highcpu-16-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_farming

[cp2k-sdbg]
display_name: Regtest sdbg
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         required_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_sdbg

[cp2k-sopt]
display_name: Regtest sopt
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_sopt

[cp2k-ssmp]
display_name: Regtest ssmp
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-popt]
display_name: Regtest popt
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_popt

[cp2k-pdbg]
display_name: Regtest pdbg
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_pdbg

[cp2k-openmpi-psmp]
display_name: Regtest psmp (OpenMPI)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-openmpi
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_psmp

[cp2k-psmp]
display_name: Regtest psmp
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_psmp

[cp2k-minimal]
display_name: Minimal arch file
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_minimal

[cp2k-coverage-pdbg]
display_name: Coverage (pdbg)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-mpich
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_coverage-pdbg

[cp2k-cuda-kepler]
display_name: CUDA 2x Kepler (psmp)
repository:   cp2k
cpu:          16
gpu:          2
nodepools:    pool-highcpu-16-haswell-tesla-k80
tags:         optional_check_run
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-cuda-kepler
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_cuda-psmp

[cp2k-cuda-pascal]
display_name: CUDA Pascal (psmp)
repository:   cp2k
cpu:          24
gpu:          1
nodepools:    pool-tesla-p4-haswell-24
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-cuda-pascal
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_cuda-psmp

#-------------------------------------------------------------------------------
[cp2k-gcc5]
display_name: Ubuntu, GCC 5 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-gcc5
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc6]
display_name: Ubuntu, GCC 6 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-gcc6
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc7]
display_name: Ubuntu, GCC 7 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-gcc7
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

[cp2k-gcc8]
display_name: Ubuntu, GCC 8 (ssmp)
repository:   cp2k
cpu:          32
nodepools:    pool-highcpu-32-haswell
tags:         optional_check_run dashboard
related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
parent:       cp2k-toolchain-gcc8
build_args:   TOOLCHAIN=__PARENT_IMAGE__
dockerfile:   /tools/docker/Dockerfile.test_ssmp

##-------------------------------------------------------------------------------
#[cp2k-farming-32]
#display_name: Farming
#repository:   cp2k
#cpu:          32
#nodepools:    pool-highcpu-32-haswell
#tags:         optional_check_run dashboard
#related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
#toolchain:    mpich
#dockerfile:   /tools/docker/Dockerfile.test_farming
#
##-------------------------------------------------------------------------------
#[cp2k-valgrind-sdbg]
#display_name: Valgrind (sdbg)
#repository:   cp2k
#cpu:          32
#nodepools:    pool-highcpu-32-haswell
#related_path: Makefile|src|tests|exts|tools/(build_utils|regtesting|toolchain|docker)
#toolchain:    mpich
#dockerfile:   /tools/docker/Dockerfile.test_valgrind-sdbg
#
##-------------------------------------------------------------------------------
#[cp2k-sdbg-skylake]
#display_name: Regtest sdbg (Skylake)
#repository:   cp2k
#cpu:          32
#nodepools:    pool-highcpu-32-skylake
#toolchain:    mpich
#dockerfile:   /tools/docker/Dockerfile.test_sdbg
#
#[cp2k-pdbg-skylake]
#display_name: Regtest pdbg (Skylake)
#repository:   cp2k
#cpu:          32
#nodepools:    pool-highcpu-32-skylake
#toolchain:    mpich
#dockerfile:   /tools/docker/Dockerfile.test_pdbg

#EOF
